{% extends 'AdminCoreBundle::Common/formComponent.html.twig' %}


{% set elcodi_context = {
    entity_type: 'customer_category',
} %}


{% form_theme form 'AdminCoreBundle::Forms/fields.html.twig' %}


    {% block content %}

        {% if customerCategory.id %}
            <script type="text/javascript">
            if ( window != window.top ) {
                var Mediator =  Mediator ? Mediator : window.parent.FrontendMediator;
                Mediator.publish( 'new:customerCategory', { id : "{{ customerCategory.id }}", name : "{{ customerCategory.name }}" } );
            }
            </script>
        {% endif %}

        {% set formAction =
        customerCategory.id
        ? path('admin_category_customer_update', { id: customerCategory.id })
        : path('admin_category_customer_save')
        %}

        {{ form_start(form, { action: formAction }) }}
        <fieldset>
            <div class="grid">
                <div class="col-1-3">
                    <div class="box-none">
                        <h3 class="fw-n">{{ 'admin.category.section.basic.title'|trans }}</h3>
                        <p>{{ 'admin.customer_category.section.basic.description'|trans }}</p>
                        {% if elcodi_languages|length > 1 %}
                            <p><i class="icon-star"></i> = {{ 'ui.language.master_language'|trans }}</p>
                        {% endif %}
                    </div>
                </div>
                <div class="col-2-3">
                    <div>
                        <section>
                            <div class="box">
                                <ol>
                                    <li class="pb-n">
                                        {{
                                        form_row(form.name, {
                                        label: 'admin.category.field.name.title',
                                        attr: {
                                        placeholder: 'admin.category.field.name.placeholder',
                                    }
                                })
                            }}

                        </li>
                    </ol>
                </div>
            </section>
        </div>
    </div>
</div>

{{ elcodi_hook("admin.customer_category_bottom", {
'customerCategory': customerCategory
}) }}

<div class="grid">
    <div class="col-1-3">
        <div class="box-none mb-n pb-m">
            <h3 class="fw-n">{{ 'admin.category.section.visibility.title'|trans }}</h3>
            <p>{{ 'admin.category.section.visibility.description'|trans }}</p>
        </div>
    </div>
    <div class="col-2-3">
        <div class="box mb-n pb-n">
            <ol class="pt-m">
                <li>
                    {{
                    form_row(form.enabled, {
                    label: 'admin.category.field.enabled.title',
                })
            }}
        </li>
    </ol>
</div>
</div>
</div>

<div class="grid fixed-bottom animated fade-in-up">
    <div class="col-1-3">
        &nbsp;
    </div>
    <div class="col-2-3">
        <button type="submit" class="button-primary button-fat pv-s mr-l">{{ 'ui.forms.save'|trans }}</button>
        <script type="text/javascript">
        if ( window!=window.top ) {
            var oParent = window.parent,
            oModal = oParent.TinyCore.Module.instantiate('modal');
        }
        </script>
        <a href="{{ path('admin_customer_category_list') }}" onclick="if(oModal !== undefined);oModal.close();">{{ 'ui.forms.cancel'|trans }}</a>
    </div>
</div>
</fieldset>
{{ form_end(form) }}

{% endblock content %}
